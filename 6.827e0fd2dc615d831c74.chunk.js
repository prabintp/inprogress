webpackJsonp([6],{"/y5Q":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("LMZF"),i=n("Un6q"),a=n("0nO6"),s=n("0WLp"),r=n("UHIZ"),l=n("5O89"),c=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(){function e(){}return e.prototype.ngOnInit=function(){},c([Object(o.Injectable)(),Object(o.Component)({selector:"app-items",template:n("wnnF"),styles:[n("n6zK")],animations:[Object(l.a)()]}),d("design:paramtypes",[])],e)}(),u=n("zuOj"),p=n("hhxv"),f=(n("GQSG"),this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s}),v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,n,o){this._fb=e,this._categoryService=t,this.itemsService=n,this.router=o,this.rows=[],this.listCategory=[],this.itemsdata={notes:"",desc:"",name:"",access_token:"",shop:"",createdBy:""},this.autocompleItems=function(e){return"<span>"+e.name+"</span>"}}return e.prototype.ngOnInit=function(){this.loadCategory(),this.initForm()},e.prototype.loadCategory=function(){var e=this;this._categoryService.getCategory().subscribe(function(t){if(200===t.status||304===t.status){var n=t.json().rows;e.listCategory=n.slice()}else e.listCategory=[]})},e.prototype.setValueCategory=function(e){this.itemsForm.get("category").setValue(e.id)},e.prototype.initForm=function(){this.itemsForm=this._fb.group({name:["",[a.Validators.required]],sku:["",[a.Validators.required]],quantity:["",[a.Validators.required]],unitprice:["",[a.Validators.required]],actualprice:["",[a.Validators.required]],desc:[""],notes:[""],category:[""]})},e.prototype.onAdd=function(){var e=this;this.itemsService.addItems(this.itemsForm.value).subscribe(function(t){return e.router.navigate(200===t.status||201===t.status?["/items"]:["/404"])})},f([Object(o.Injectable)(),Object(o.Component)({selector:"app-items",template:n("jpiz"),styles:[n("n6zK")],animations:[Object(l.a)()]}),v("design:paramtypes",[a.FormBuilder,p.a,u.a,r.c])],e)}(),y=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s},b=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e,t){var n=this;this.itemsService=e,this.router=t,this.rows=[],this.temp=[],this.columns=[],this.loading=!1,this.loading=!0,this.itemsService.getItems().subscribe(function(e){if(200===e.status||304===e.status){var t=e.json().rows;n.rows=e.json().rows,n.temp=t.slice()}else n.rows=[]})}return e.prototype.ngOnInit=function(){this.columns=[{name:"sku"},{prop:"name"},{name:"desc"},{cellTemplate:this.categoryTmpl,name:"category"},{name:"unitprice"},{name:"quantity"},{cellTemplate:this.editTmpl,headerTemplate:this.hdrTpl,name:"id"}]},e.prototype.onDelete=function(e){var t=this;this.itemsService.deleteItem(e).subscribe(function(n){200!==n.status&&204!==n.status||(t.rows=t.rows.filter(function(t){return t.id!==e}))})},e.prototype.updateFilter=function(e){var t=e.target.value.toLowerCase();if("name"==e.target.id){var n=this.temp.filter(function(e){return-1!==e.name.toLowerCase().indexOf(t)||!t});this.rows=n}else n=this.temp.filter(function(e){return-1!==e.sku.toLowerCase().indexOf(t)||!t}),this.rows=n},y([Object(o.ViewChild)("editTmpl"),b("design:type",o.TemplateRef)],e.prototype,"editTmpl",void 0),y([Object(o.ViewChild)("hdrTpl"),b("design:type",o.TemplateRef)],e.prototype,"hdrTpl",void 0),y([Object(o.ViewChild)("categoryTmpl"),b("design:type",o.TemplateRef)],e.prototype,"categoryTmpl",void 0),y([Object(o.Injectable)(),Object(o.Component)({selector:"app-items",template:n("uEKf"),styles:[n("n6zK")],animations:[Object(l.a)()]}),b("design:paramtypes",[u.a,r.c])],e)}(),j=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s},C=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},F=function(){function e(e,t,n,o,i){this._fb=e,this.itemsService=t,this._categoryService=n,this.router=o,this.route=i,this.rows=[],this.listCategory=[],this.itemsdata={notes:"",desc:"",name:"",access_token:"",shop:"",createdBy:"",sku:"",quantity:"",unitprice:"",category:{id:"",name:""},actualprice:""},this.autocompleItems=function(e){return"<span>"+e.name+"</span>"}}return e.prototype.ngOnInit=function(){this.loadCategory(),this.initForm(),this.currentItemID=this.route.snapshot.params.id,this.getItems(this.currentItemID)},e.prototype.loadCategory=function(){var e=this;this._categoryService.getCategory().subscribe(function(t){if(200===t.status||304===t.status){var n=t.json().rows;e.listCategory=n.slice()}else e.listCategory=[]})},e.prototype.initForm=function(){this.itemsForm=this._fb.group({name:["",[a.Validators.required]],sku:["",[a.Validators.required]],quantity:["",[a.Validators.required]],unitprice:["",[a.Validators.required]],actualprice:["",[a.Validators.required]],desc:[""],notes:[""],shop:[""],createdBy:[""],category:[""]})},e.prototype.patchForm=function(){this.itemsForm.setValue({name:this.itemsdata.name,desc:this.itemsdata.desc,sku:this.itemsdata.sku,quantity:this.itemsdata.quantity,unitprice:this.itemsdata.unitprice,actualprice:this.itemsdata.actualprice,notes:this.itemsdata.notes||"",shop:this.itemsdata.shop,category:this.itemsdata.category?this.itemsdata.category.id:"",createdBy:this.itemsdata.createdBy||""})},e.prototype.getItems=function(e){var t=this;this.itemsService.getItemsByID(e).subscribe(function(e){200!==e.status&&304!==e.status||(t.itemsdata=e.json(),t.patchForm())})},e.prototype.setValueCategory=function(e){this.itemsForm.get("category").setValue(e.id)},e.prototype.onEdit=function(){var e=this;this.itemsService.editItems(this.itemsForm.value,this.currentItemID).subscribe(function(t){return e.router.navigate(200===t.status||201===t.status?["/items"]:["/404"])})},j([Object(o.Injectable)(),Object(o.Component)({selector:"app-items",template:n("I3dk"),animations:[Object(l.a)()]}),C("design:paramtypes",[a.FormBuilder,u.a,p.a,r.c,r.a])],e)}(),w=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s},O=[{path:"",component:m,children:[{path:"add",component:h},{path:"",component:g},{path:"edit/:id",component:F}]}],I=function(){return w([Object(o.NgModule)({imports:[r.d.forChild(O)],exports:[r.d]})],function(){})}(),q=n("gOac"),x=n("cLB8"),R=n("oSQj");n.d(t,"ItemsModule",function(){return _});var k=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,n,s):i(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s},_=function(){return k([Object(o.NgModule)({imports:[i.CommonModule,I,q.c,x.NgxDatatableModule,a.FormsModule,a.ReactiveFormsModule,q.b,R.NguiAutoCompleteModule,s.f.forRoot()],declarations:[m,h,g,F],providers:[u.a,p.a]})],function(){})}()},I3dk:function(e,t){e.exports='<form [formGroup]="itemsForm" (ngSubmit)="onEdit()" class="row">\n  <div class="col-md-6">\n    <fieldset class="form-group">\n        <label>Name</label>\n        <input [class.is-invalid]="itemsForm.controls.name.touched && !itemsForm.controls.name.valid" required name="name" formControlName="name" class="form-control validate ">\n        <div class="invalid-feedback">\n          Item Name is required.\n        </div>\n    </fieldset>\n\n    <div class="row">\n      <fieldset class="form-group col-xl-6">\n          <label>Item code</label>\n          <input [class.is-invalid]="itemsForm.controls.sku.touched && !itemsForm.controls.sku.valid" required name="sku" formControlName="sku" class="form-control validate ">\n          <div class="invalid-feedback">\n            Item SKU is required.\n          </div>\n      </fieldset>\n      <fieldset class="form-group col-xl-6">\n      <label>Category</label>\n      <input  ngui-auto-complete\n                  [source]="listCategory"\n                  name="name"\n                  [ngModel]="itemsdata.category"\n                  [ngModelOptions]="{standalone: true}"\n                  [re-focus-after-select]=false\n                  [select-on-blur]=true\n                  [accept-user-input]=false\n                  value-property-name="name"\n                  display-property-name="name"\n                  (valueChanged)="setValueCategory($event)"\n                  [list-formatter]="autocompleItems"\n                  placeholder="Select items"\n                  class="form-control">\n      <input type="hidden" formControlName="category" class="form-control" />\n      </fieldset>\n    </div>\n\n    <div class="row">\n      <div class="form-group col-xl-4">\n          <label>Quantity</label>\n          <input [class.is-invalid]="itemsForm.controls.quantity.touched && !itemsForm.controls.quantity.valid"  name="quantity" formControlName="quantity" class="form-control validate ">\n          <div class="invalid-feedback">\n            Item quantity is required.\n          </div>\n      </div>\n      <div class="form-group col-xl-4">\n          <label>Unit Price</label>\n          <input [class.is-invalid]="itemsForm.controls.unitprice.touched && !itemsForm.controls.unitprice.valid"  name="unitprice" formControlName="unitprice" class="form-control validate ">\n          <div class="invalid-feedback">\n            Item unitprice is required.\n          </div>\n      </div>\n\n      <div class="form-group col-xl-4">\n          <label>Actual Price</label>\n          <input [class.is-invalid]="itemsForm.controls.actualprice.touched && !itemsForm.controls.actualprice.valid"  name="actualprice" formControlName="actualprice" class="form-control validate ">\n          <div class="invalid-feedback">\n            Item actualprice is required.\n          </div>\n      </div>\n    </div>\n\n  </div>\n  <div class="col-md-6">\n    <fieldset class="form-group">\n        <label>Description</label>\n        <textarea name=\'desc\' formControlName="desc" class="form-control" rows="3"></textarea>\n    </fieldset>\n    <fieldset class="form-group">\n        <label>Notes</label>\n        <textarea name=\'notes\' formControlName="notes" class="form-control" rows="3"></textarea>\n    </fieldset>\n  </div>\n  <div class="col-md-12">\n    <button type="submit" class="btn btn-secondary" [disabled]="!(itemsForm.valid)">Submit Button</button>\n    <button type="reset" class="btn btn-secondary">Reset Button</button>\n    <div class="row" >{{itemsForm.value | json}}{{itemsdata.category | json}}</div>\n  </div>\n</form>\n'},jpiz:function(e,t){e.exports='<form [formGroup]="itemsForm" (ngSubmit)="onAdd()" class="row">\n  <div class="col-md-6">\n    <fieldset class="form-group">\n        <label>Name</label>\n        <input [class.is-invalid]="itemsForm.controls.name.touched && !itemsForm.controls.name.valid" required name="name" formControlName="name" class="form-control validate ">\n        <div class="invalid-feedback">\n          Item Name is required.\n        </div>\n    </fieldset>\n\n    <div class="row">\n      <fieldset class="form-group col-xl-6">\n          <label>Item code</label>\n          <input [class.is-invalid]="itemsForm.controls.sku.touched && !itemsForm.controls.sku.valid" required name="sku" formControlName="sku" class="form-control validate ">\n          <div class="invalid-feedback">\n            Item SKU is required.\n          </div>\n      </fieldset>\n      <fieldset class="form-group col-xl-6">\n      <label>Category</label>\n      <input  ngui-auto-complete\n                  [source]="listCategory"\n                  name="name"\n                  value-property-name="name"\n                  display-property-name="name"\n                  [accept-user-input]=false\n                  (valueChanged)="setValueCategory($event)"\n                  [list-formatter]="autocompleItems"\n                  placeholder="Select items"\n                  class="form-control">\n      <input type="hidden" formControlName="category" class="form-control" />\n      </fieldset>\n    </div>\n\n    <div class="row">\n      <div class="form-group col-xl-4">\n          <label>Quantity</label>\n          <input [class.is-invalid]="itemsForm.controls.quantity.touched && !itemsForm.controls.quantity.valid"  name="quantity" formControlName="quantity" class="form-control validate ">\n          <div class="invalid-feedback">\n            Item quantity is required.\n          </div>\n      </div>\n      <div class="form-group col-xl-4">\n          <label>Unit Price</label>\n          <input [class.is-invalid]="itemsForm.controls.unitprice.touched && !itemsForm.controls.unitprice.valid"  name="unitprice" formControlName="unitprice" class="form-control validate ">\n          <div class="invalid-feedback">\n            Item unitprice is required.\n          </div>\n      </div>\n\n      <div class="form-group col-xl-4">\n          <label>Actual Price</label>\n          <input [class.is-invalid]="itemsForm.controls.actualprice.touched && !itemsForm.controls.actualprice.valid"  name="actualprice" formControlName="actualprice" class="form-control validate ">\n          <div class="invalid-feedback">\n            Item actualprice is required.\n          </div>\n      </div>\n    </div>\n\n  </div>\n  <div class="col-md-6">\n    <fieldset class="form-group">\n        <label>Description</label>\n        <textarea name=\'desc\' formControlName="desc" class="form-control" rows="3"></textarea>\n    </fieldset>\n    <fieldset class="form-group">\n        <label>Notes</label>\n        <textarea name=\'notes\' formControlName="notes" class="form-control" rows="3"></textarea>\n    </fieldset>\n  </div>\n  <div class="col-md-12">\n    <button type="submit" class="btn btn-secondary" [disabled]="!(itemsForm.valid)">Submit Button</button>\n    <button type="reset" class="btn btn-secondary">Reset Button</button>\n  \x3c!--  <div class="row" >{{itemsForm.value | json}}</div> --\x3e\n  </div>\n</form>\n'},n6zK:function(e,t,n){(e.exports=n("rP7Y")(!1)).push([e.i,"",""]),e.exports=e.exports.toString()},uEKf:function(e,t){e.exports='<div class="row">\n    <div class="col col-xl-12">\n      <div class="card mb-3">\n          <div class="card-body">\n            <div class="row">\n            <fieldset class="form-group col-md-4">\n            <input\n             class="form-control"\n              type=\'text\'\n              id="sku"\n              placeholder=\'Filter by sku\'\n              (keyup)=\'updateFilter($event)\'\n            />\n           </fieldset>\n           <fieldset class="form-group col-md-4">\n           <input\n            class="form-control"\n             type=\'text\'\n             id="name"\n             placeholder=\'Filter by name\'\n             (keyup)=\'updateFilter($event)\'\n           />\n          </fieldset>\n           </div>\n            <ngx-datatable\n              #itemstable\n              class="bootstrap"\n              [rows]="rows"\n              [columns]="columns"\n              [columnMode]="\'force\'"\n              [headerHeight]="50"\n              [footerHeight]="50"\n              [rowHeight]="\'auto\'"\n              [limit]="5"\n              [loadingIndicator]="loading"\n              >\n            </ngx-datatable>\n            <ng-template #hdrTpl let-column="column" >\n             <strong>Action</strong>\n            </ng-template>\n            <ng-template #categoryTmpl let-row="row" let-value="value">\n             {{value.name}}\n           </ng-template>\n\n            <ng-template #editTmpl let-row="row" let-value="value">\n             <a [routerLink]="[\'./edit\', value]" class="btn btn-success"><i class="fa fa-edit"></i></a>\n             \x3c!-- <a (click)="onDelete(value)" class="btn btn-success"><i class="fa fa-trash"></i></a> --\x3e\n             <app-modal (onSuccess)="onDelete(value)" [title]="Confirm" [bodyContent]="\'Confirm your Item delete action.\'"></app-modal>\n           </ng-template>\n\n          </div>\n\n      </div>\n    </div>\n</div>\n'},wnnF:function(e,t){e.exports='<div [@routerTransition]>\n    <app-page-header activeurl="/items" addurl="/items/add" [heading]="\'Items\'" [icon]="\'fa-table\'"></app-page-header>\n    <router-outlet></router-outlet>\n</div>\n'}});